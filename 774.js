(self.webpackChunk=self.webpackChunk||[]).push([[774],{4193:function(a){function i(t,v){var u=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(u!=null){var d=[],s=!0,y=!1,f,n;try{for(u=u.call(t);!(s=(f=u.next()).done)&&(d.push(f.value),!(v&&d.length===v));s=!0);}catch(r){y=!0,n=r}finally{try{!s&&u.return!=null&&u.return()}finally{if(y)throw n}}return d}}a.exports=i,a.exports.__esModule=!0,a.exports.default=a.exports},6933:function(a,i,t){var v=t(144),u=t(4193),d=t(4801),s=t(4695);function y(f,n){return v(f)||u(f,n)||d(f,n)||s()}a.exports=y,a.exports.__esModule=!0,a.exports.default=a.exports},7774:function(a,i,t){"use strict";t.r(i),t.d(i,{default:function(){return b}});var v=t(9883),u=t.n(v),d=t(6933),s=t.n(d),y=t(4043),f=t.n(y),n=t(2435),r=t(6074);function l(c){return c.textArea?(0,r.jsx)("textarea",{value:c.value,className:"w-full p-2 border-2 border-gray-100 h-64 hover:border-gray-300 focus:border-gray-500 rounded-lg my-2 outline-none transition-all",onChange:function(p){return c.onChange(p.target.value)}}):(0,r.jsx)("input",{className:"w-full p-2 border-2 border-gray-100 hover:border-gray-300 focus:border-gray-500 rounded-lg my-2 outline-none transition-all",value:c.value,onChange:function(p){return c.onChange(p.target.value)}})}var h=l,o=t(3836);function m(c){return(0,r.jsx)("button",{onClick:c.onClick,className:"bg-blue-600 rounded-xl hover:bg-blue-300 text-white w-32 py-2 my-6 transition-all",children:c.children})}var g=m;function b(){var c=(0,n.useState)(""),j=s()(c,2),p=j[0],I=j[1],F=(0,n.useState)(""),T=s()(F,2),N=T[0],R=T[1],k=(0,n.useState)(""),E=s()(k,2),A=E[0],B=E[1],L=(0,n.useState)(""),O=s()(L,2),x=O[0],P=O[1];(0,n.useEffect)(function(){document.cookie.includes("token")||(alert("\u8BF7\u5148\u767B\u5F55"),o.m8.push("/login"))},[]);function U(){return C.apply(this,arguments)}function C(){return C=u()(f().mark(function w(){var S;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/posts",{method:"POST",body:JSON.stringify({title:p,content:N,tags:A.split(","),imageUrl:x}),headers:{"Content-Type":"application/json"}});case 3:if(S=e.sent,S.status===200){e.next=12;break}return e.t0=console,e.next=8,S.text();case 8:return e.t1=e.sent,e.t0.error.call(e.t0,e.t1),alert("\u53D1\u5E03\u5931\u8D25"),e.abrupt("return");case 12:return e.t2=o.m8,e.next=15,S.json();case 15:e.t3=e.sent.id,e.t4="/posts/"+e.t3,e.t2.push.call(e.t2,e.t4),e.next=23;break;case 20:e.prev=20,e.t5=e.catch(0),console.error(e.t5);case 23:case"end":return e.stop()}},w,null,[[0,20]])})),C.apply(this,arguments)}return(0,r.jsx)("div",{className:"w-full flex justify-center",children:(0,r.jsxs)("div",{className:"container lg:px-64 px-8 pt-16",children:[(0,r.jsx)("p",{className:"text-3xl font-extrabold",children:"\u53D1\u8868\u65B0\u6587\u7AE0"}),(0,r.jsx)("p",{className:"mt-8",children:"\u6807\u9898"}),(0,r.jsx)(h,{value:p,onChange:I}),(0,r.jsx)("p",{className:"mt-8",children:"\u5185\u6587"}),(0,r.jsx)(h,{textArea:!0,value:N,onChange:R}),(0,r.jsx)("p",{className:"mt-8",children:"\u6807\u7B7E (\u4EE5\u9017\u53F7\u9694\u5F00)"}),(0,r.jsx)(h,{value:A,onChange:B}),(0,r.jsx)("p",{className:"mt-8",children:"\u5C01\u9762\u56FE\u7247\u5730\u5740"}),(0,r.jsx)(h,{value:x,onChange:P}),(0,r.jsx)("img",{src:x,alt:""}),(0,r.jsx)(g,{onClick:U,children:"\u53D1\u5E03"})]})})}},2841:function(a,i,t){"use strict";/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t(7418);var v=t(2435),u=60103;if(i.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var d=Symbol.for;u=d("react.element"),i.Fragment=d("react.fragment")}var s=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y=Object.prototype.hasOwnProperty,f={key:!0,ref:!0,__self:!0,__source:!0};function n(r,l,h){var o,m={},g=null,b=null;h!==void 0&&(g=""+h),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(b=l.ref);for(o in l)y.call(l,o)&&!f.hasOwnProperty(o)&&(m[o]=l[o]);if(r&&r.defaultProps)for(o in l=r.defaultProps,l)m[o]===void 0&&(m[o]=l[o]);return{$$typeof:u,type:r,key:g,ref:b,props:m,_owner:s.current}}i.jsx=n,i.jsxs=n},6074:function(a,i,t){"use strict";a.exports=t(2841)}}]);
