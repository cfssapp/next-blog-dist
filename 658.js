(self.webpackChunk=self.webpackChunk||[]).push([[658],{4193:function(u){function a(e,d){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var l=[],n=!0,f=!1,_,o;try{for(s=s.call(e);!(n=(_=s.next()).done)&&(l.push(_.value),!(d&&l.length===d));n=!0);}catch(m){f=!0,o=m}finally{try{!n&&s.return!=null&&s.return()}finally{if(f)throw o}}return l}}u.exports=a,u.exports.__esModule=!0,u.exports.default=u.exports},6933:function(u,a,e){var d=e(144),s=e(4193),l=e(4801),n=e(4695);function f(_,o){return d(_)||s(_,o)||l(_,o)||n()}u.exports=f,u.exports.__esModule=!0,u.exports.default=u.exports},8886:function(u,a,e){"use strict";var d=e(2435),s=e(6074);function l(n){return(0,s.jsx)("button",{onClick:n.onClick,className:"bg-blue-600 rounded-xl hover:bg-blue-300 text-white w-32 py-2 my-6 transition-all",children:n.children})}a.Z=l},9005:function(u,a,e){"use strict";var d=e(2435),s=e(6074);function l(n){return n.textArea?(0,s.jsx)("textarea",{value:n.value,className:"w-full p-2 border-2 border-gray-100 h-64 hover:border-gray-300 focus:border-gray-500 rounded-lg my-2 outline-none transition-all",onChange:function(_){return n.onChange(_.target.value)}}):(0,s.jsx)("input",{className:"w-full p-2 border-2 border-gray-100 hover:border-gray-300 focus:border-gray-500 rounded-lg my-2 outline-none transition-all",value:n.value,onChange:function(_){return n.onChange(_.target.value)}})}a.Z=l},3658:function(u,a,e){"use strict";e.r(a),e.d(a,{default:function(){return c}});var d=e(9883),s=e.n(d),l=e(6933),n=e.n(l),f=e(4043),_=e.n(f),o=e(9005),m=e(2435),i=e(3836),h=e(8886),r=e(6074);function c(){var E=(0,m.useState)(""),v=n()(E,2),y=v[0],T=v[1],M=(0,m.useState)(""),D=n()(M,2),O=D[0],x=D[1],A=(0,m.useState)(""),j=n()(A,2),P=j[0],I=j[1],R=(0,m.useState)(""),C=n()(R,2),b=C[0],S=C[1];(0,m.useEffect)(function(){document.cookie.includes("token")||(alert("\u8BF7\u5148\u767B\u5F55"),i.m8.push("/login"))},[]);function B(){return g.apply(this,arguments)}function g(){return g=s()(_().mark(function L(){var p;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/posts",{method:"POST",body:JSON.stringify({title:y,content:O,tags:P.split(","),imageUrl:b}),headers:{"Content-Type":"application/json"}});case 3:if(p=t.sent,p.status===200){t.next=12;break}return t.t0=console,t.next=8,p.text();case 8:return t.t1=t.sent,t.t0.error.call(t.t0,t.t1),alert("\u53D1\u5E03\u5931\u8D25"),t.abrupt("return");case 12:return t.t2=i.m8,t.next=15,p.json();case 15:t.t3=t.sent.id,t.t4="/posts/"+t.t3,t.t2.push.call(t.t2,t.t4),t.next=23;break;case 20:t.prev=20,t.t5=t.catch(0),console.error(t.t5);case 23:case"end":return t.stop()}},L,null,[[0,20]])})),g.apply(this,arguments)}return(0,r.jsx)("div",{className:"w-full flex justify-center",children:(0,r.jsxs)("div",{className:"container lg:px-64 px-8 pt-16",children:[(0,r.jsx)("p",{className:"text-3xl font-extrabold",children:"\u53D1\u8868\u65B0\u6587\u7AE0"}),(0,r.jsx)("p",{className:"mt-8",children:"\u6807\u9898"}),(0,r.jsx)(o.Z,{value:y,onChange:T}),(0,r.jsx)("p",{className:"mt-8",children:"\u5185\u6587"}),(0,r.jsx)(o.Z,{textArea:!0,value:O,onChange:x}),(0,r.jsx)("p",{className:"mt-8",children:"\u6807\u7B7E (\u4EE5\u9017\u53F7\u9694\u5F00)"}),(0,r.jsx)(o.Z,{value:P,onChange:I}),(0,r.jsx)("p",{className:"mt-8",children:"\u5C01\u9762\u56FE\u7247\u5730\u5740"}),(0,r.jsx)(o.Z,{value:b,onChange:S}),(0,r.jsx)("img",{src:b,alt:""}),(0,r.jsx)(h.Z,{onClick:B,children:"\u53D1\u5E03"})]})})}},2841:function(u,a,e){"use strict";/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */e(7418);var d=e(2435),s=60103;if(a.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var l=Symbol.for;s=l("react.element"),a.Fragment=l("react.fragment")}var n=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function o(m,i,h){var r,c={},E=null,v=null;h!==void 0&&(E=""+h),i.key!==void 0&&(E=""+i.key),i.ref!==void 0&&(v=i.ref);for(r in i)f.call(i,r)&&!_.hasOwnProperty(r)&&(c[r]=i[r]);if(m&&m.defaultProps)for(r in i=m.defaultProps,i)c[r]===void 0&&(c[r]=i[r]);return{$$typeof:s,type:m,key:E,ref:v,props:c,_owner:n.current}}a.jsx=o,a.jsxs=o},6074:function(u,a,e){"use strict";u.exports=e(2841)}}]);
